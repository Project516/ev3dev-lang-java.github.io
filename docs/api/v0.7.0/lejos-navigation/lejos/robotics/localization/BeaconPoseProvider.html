<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9.0.1) on Mon Apr 23 23:46:19 BST 2018 -->
<title>BeaconPoseProvider</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2018-04-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BeaconPoseProvider";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?lejos/robotics/localization/BeaconPoseProvider.html" target="_top">Frames</a></li>
<li><a href="BeaconPoseProvider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInClass">Package</span>&nbsp;<a href="../../../lejos/robotics/localization/package-summary.html" target="classFrame">lejos.robotics.localization</a></div>
<h2 title="Class BeaconPoseProvider" class="title">Class BeaconPoseProvider</h2>
<map id="G" name="G">
<area shape="rect" id="node1_0" href="./BeaconLocator.html" title="lejos.robotics.localization.BeaconLocator" alt="" coords="627,635,803,718"/>
<area shape="rect" id="node1" href="./BeaconLocator.html" title="&lt;TABLE&gt;" alt="" coords="616,630,813,723"/>
<area shape="rect" id="node2_1" href="./BeaconPoseProvider.html" title="lejos.robotics.localization.BeaconPoseProvider" alt="" coords="435,179,994,467"/>
<area shape="rect" id="node2" href="./BeaconPoseProvider.html" title="&lt;TABLE&gt;" alt="" coords="425,173,1005,472"/>
<area shape="rect" id="node3_2" href="./BeaconTriangle.html" title="lejos.robotics.localization.BeaconTriangle" alt="" coords="198,599,581,755"/>
<area shape="rect" id="node3" href="./BeaconTriangle.html" title="&lt;TABLE&gt;" alt="" coords="187,593,591,760"/>
<area shape="rect" id="node4_3" href="./OdometryPoseProvider.html" title="lejos.robotics.localization.OdometryPoseProvider" alt="" coords="949,525,1235,828"/>
<area shape="rect" id="node4" href="./OdometryPoseProvider.html" title="&lt;TABLE&gt;" alt="" coords="939,520,1245,833"/>
<area shape="rect" id="node6_4" href="../navigation/Move.html" title="lejos.robotics.navigation.Move" alt="" coords="328,887,1112,1348"/>
<area shape="rect" id="node6" href="../navigation/Move.html" title="&lt;TABLE&gt;" alt="" coords="317,881,1123,1353"/>
<area shape="rect" id="node8_5" href="../navigation/MoveProvider.html" title="lejos.robotics.navigation.MoveProvider" alt="" coords="1157,1063,1536,1172"/>
<area shape="rect" id="node8" href="../navigation/MoveProvider.html" title="&lt;TABLE&gt;" alt="" coords="1147,1057,1547,1177"/>
<area shape="rect" id="node9_6" href="../navigation/Pose.html" title="lejos.robotics.navigation.Pose" alt="" coords="16,923,283,1311"/>
<area shape="rect" id="node9" href="../navigation/Pose.html" title="&lt;TABLE&gt;" alt="" coords="5,918,293,1317"/>
<area shape="rect" id="node5_7" href="./PoseProvider.html" title="lejos.robotics.localization.PoseProvider" alt="" coords="624,17,773,114"/>
<area shape="rect" id="node5" href="./PoseProvider.html" title="&lt;TABLE&gt;" alt="" coords="613,11,784,119"/>
<area shape="rect" id="node7_8" href="../navigation/MoveListener.html" title="lejos.robotics.navigation.MoveListener" alt="" coords="819,11,1367,120"/>
<area shape="rect" id="node7" href="../navigation/MoveListener.html" title="&lt;TABLE&gt;" alt="" coords="809,5,1378,125"/>
</map>
<!-- UML diagram added by UMLGraph version R5_6-24-gf6e263 (http://www.umlgraph.org/) -->
<div align="center"><img src="BeaconPoseProvider.png" alt="Package class diagram package BeaconPoseProvider" usemap="#G" border=0/></div>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>lejos.robotics.localization.BeaconPoseProvider</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../lejos/robotics/localization/PoseProvider.html" title="interface in lejos.robotics.localization">PoseProvider</a>, <a href="../../../lejos/robotics/navigation/MoveListener.html" title="interface in lejos.robotics.navigation">MoveListener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BeaconPoseProvider</span>
extends java.lang.Object
implements <a href="../../../lejos/robotics/localization/PoseProvider.html" title="interface in lejos.robotics.localization">PoseProvider</a>, <a href="../../../lejos/robotics/navigation/MoveListener.html" title="interface in lejos.robotics.navigation">MoveListener</a></pre>
<div class="block"><p>A PoseProvider that uses beacon triangulation to pinpoint the pose (x, y, heading) of a robot. 
 <b>The starting position of the robot must be such that it roughly points in the direction of beacon 2, with beacon 1 to the right
 of the robot, and beacon 3 to the left.</b> This ensures that when it performs the first scan, the beacons are scanned in order
 1, 2, 3. After the first scan, the robot can move about on its own and will be able to scan them in any order.</p>
 
 <p>After it does a scan, you will either hear a beep or a buzz. A beep means the calculation worked. A buzz means something went
 wrong with the calculation. This could be the beacon ordering is wrong, or it didn't scan three beacons in, or
 the calculated beacon pose deviated significantly from the estimated odometry pose. In this case, the results are thrown out,
 the odometry pose is used, and it will try another scan after the next move. If you hear a lot of buzzes in a row, it probably
 means it will not recover.</p>  
 
 <p>The class uses an OdometryPoseProvider internally for three reasons: 
 <li>1. To serve as a backup pose provider if the BeaconLocator detects less than 3 beacons, or greater than 3 (meaning 
 a false reflection occurred).
 <li>2. It is time consuming to scan beacons after every move. Instead, this will scan about every 5 moves. In between
 these scans, it uses the OdometryPoseProvider to navigate.
 <li>3. It is essential to scan the beacons in order. This allows it to determine the identity of each beacon so they are
 properly fed to the equations. The OdometryPoseProvider keeps track of heading so it knows which beacons were scanned.</p>
 
 <p>The downside of using an OdometryPoseProvider to assist with detecting pose is that the robot needs to be placed
 with an approximate heading prior to first scan. Also, if the robot is moved at any time (lifted and placed with a different 
 heading), it probably will no longer be able to identify the beacons and become hopelessly lost. As long as the wheels are
 always on the ground, this should not happen.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization">BeaconLocator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#bl">bl</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization">BeaconTriangle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#bt">bt</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#distance">distance</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#hasScanned">hasScanned</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#moves">moves</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../lejos/robotics/localization/OdometryPoseProvider.html" title="class in lejos.robotics.localization">OdometryPoseProvider</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#opp">opp</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#scanInterval">scanInterval</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#BeaconPoseProvider-lejos.robotics.localization.BeaconLocator-lejos.robotics.localization.BeaconTriangle-lejos.robotics.navigation.MoveProvider-">BeaconPoseProvider</a></span>(<a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization">BeaconLocator</a>&nbsp;bl,
                  <a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization">BeaconTriangle</a>&nbsp;bt,
                  <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp)</code>
<div class="block">Creates a PoseProvider using beacons.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#BeaconPoseProvider-lejos.robotics.localization.BeaconLocator-lejos.robotics.localization.BeaconTriangle-lejos.robotics.navigation.MoveProvider-int-">BeaconPoseProvider</a></span>(<a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization">BeaconLocator</a>&nbsp;bl,
                  <a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization">BeaconTriangle</a>&nbsp;bt,
                  <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp,
                  int&nbsp;scanInterval)</code>
<div class="block">Creates a PoseProvider using beacons.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#betweenAngles-double-double-">betweenAngles</a></span>(double&nbsp;greater,
             double&nbsp;lesser)</code>
<div class="block">Subtracts two angles in a clockwise direction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#convertToRelative-double-double-">convertToRelative</a></span>(double&nbsp;robotBearing,
                 double&nbsp;cartesianHeading)</code>
<div class="block">Converts the absolute Cartesian heading into the relative angle values the robot sees when scanning.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#getLargestIndex-java.util.ArrayList-">getLargestIndex</a></span>(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;angles)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../lejos/robotics/navigation/Pose.html" title="class in lejos.robotics.navigation">Pose</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#getPose--">getPose</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#moveStarted-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">moveStarted</a></span>(<a href="../../../lejos/robotics/navigation/Move.html" title="class in lejos.robotics.navigation">Move</a>&nbsp;move,
           <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp)</code>
<div class="block">Called when a Move Provider starts a move</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#moveStopped-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">moveStopped</a></span>(<a href="../../../lejos/robotics/navigation/Move.html" title="class in lejos.robotics.navigation">Move</a>&nbsp;move,
           <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp)</code>
<div class="block">Called by the movement provider when a move stops</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#setPose-lejos.robotics.navigation.Pose-">setPose</a></span>(<a href="../../../lejos/robotics/navigation/Pose.html" title="class in lejos.robotics.navigation">Pose</a>&nbsp;aPose)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../lejos/robotics/localization/BeaconPoseProvider.html#sortBeacons-java.util.ArrayList-java.util.ArrayList-">sortBeacons</a></span>(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;beacons,
           java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;angles)</code>
<div class="block">This sorts the beacons into the proper order so that beacons.get(0) returns beacon1, and so on.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="bt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bt</h4>
<pre>private&nbsp;<a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization">BeaconTriangle</a> bt</pre>
</li>
</ul>
<a name="bl">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bl</h4>
<pre>private&nbsp;<a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization">BeaconLocator</a> bl</pre>
</li>
</ul>
<a name="opp">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>opp</h4>
<pre>private&nbsp;<a href="../../../lejos/robotics/localization/OdometryPoseProvider.html" title="class in lejos.robotics.localization">OdometryPoseProvider</a> opp</pre>
</li>
</ul>
<a name="moves">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moves</h4>
<pre>private&nbsp;int moves</pre>
</li>
</ul>
<a name="scanInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanInterval</h4>
<pre>private&nbsp;int scanInterval</pre>
</li>
</ul>
<a name="distance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>distance</h4>
<pre>private&nbsp;double distance</pre>
</li>
</ul>
<a name="hasScanned">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hasScanned</h4>
<pre>private&nbsp;boolean hasScanned</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BeaconPoseProvider-lejos.robotics.localization.BeaconLocator-lejos.robotics.localization.BeaconTriangle-lejos.robotics.navigation.MoveProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BeaconPoseProvider</h4>
<pre>public&nbsp;BeaconPoseProvider(<a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization">BeaconLocator</a>&nbsp;bl,
                          <a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization">BeaconTriangle</a>&nbsp;bt,
                          <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp)</pre>
<div class="block"><p>Creates a PoseProvider using beacons. The BeaconLocator must be capable of scanning the angles to 3 beacons.
 The BeaconTriangle contains the coordinates of the three beacons. The MoveProvider is simply a Pilot, such as
 DifferentialPilot, which is used to keep track of odometry.</p>
 
 <p>By default, this class takes a scan every 5 moves of the robot.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bl</code> - a BeaconLocator</dd>
<dd><code>bt</code> - a BeaconTriangle containing the three beacon coordinates</dd>
<dd><code>mp</code> - a MoveProvider (Pilot) such as DifferentialPilot. Used for odometry.</dd>
</dl>
</li>
</ul>
<a name="BeaconPoseProvider-lejos.robotics.localization.BeaconLocator-lejos.robotics.localization.BeaconTriangle-lejos.robotics.navigation.MoveProvider-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BeaconPoseProvider</h4>
<pre>public&nbsp;BeaconPoseProvider(<a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization">BeaconLocator</a>&nbsp;bl,
                          <a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization">BeaconTriangle</a>&nbsp;bt,
                          <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp,
                          int&nbsp;scanInterval)</pre>
<div class="block"><p>Creates a PoseProvider using beacons. The BeaconLocator must be capable of scanning the angles to 3 beacons.
 The BeaconTriangle contains the coordinates of the three beacons. The MoveProvider is simply a Pilot, such as
 DifferentialPilot, which is used to keep track of odometry.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bl</code> - a BeaconLocator</dd>
<dd><code>bt</code> - a BeaconTriangle containing the three beacon coordinates</dd>
<dd><code>mp</code> - a MoveProvider (Pilot) such as DifferentialPilot. Used for odometry.</dd>
<dd><code>scanInterval</code> - The number of moves to make between each physical scan.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="convertToRelative-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertToRelative</h4>
<pre>private static&nbsp;double&nbsp;convertToRelative(double&nbsp;robotBearing,
                                        double&nbsp;cartesianHeading)</pre>
<div class="block">Converts the absolute Cartesian heading into the relative angle values the robot sees when scanning.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>robotBearing</code> - The heading the robot is currently at</dd>
<dd><code>cartesianHeading</code> - The absolute angle to a beacon from the robot, in Cartesian angle.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>relative angle</dd>
</dl>
</li>
</ul>
<a name="getPose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPose</h4>
<pre>public&nbsp;<a href="../../../lejos/robotics/navigation/Pose.html" title="class in lejos.robotics.navigation">Pose</a>&nbsp;getPose()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../lejos/robotics/localization/PoseProvider.html#getPose--">getPose</a></code>&nbsp;in interface&nbsp;<code><a href="../../../lejos/robotics/localization/PoseProvider.html" title="interface in lejos.robotics.localization">PoseProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="sortBeacons-java.util.ArrayList-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortBeacons</h4>
<pre>private static&nbsp;boolean&nbsp;sortBeacons(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;beacons,
                                   java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;angles)</pre>
<div class="block"><p>This sorts the beacons into the proper order so that beacons.get(0) returns beacon1, and so on.
 This method assumes beacons will always contain the beacon angles that were scanned in counter-clockwise.</p>
 
 Strategy: Pick widest theoretical angle between beacons. There will always be one at least 120 degs.
 Then determine which beacon is clockwise of this angle.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>beacons</code> - an array of three angles.</dd>
<dd><code>a1</code> - </dd>
<dd><code>a2</code> - </dd>
<dd><code>a3</code> - </dd>
</dl>
</li>
</ul>
<a name="getLargestIndex-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLargestIndex</h4>
<pre>public static&nbsp;int&nbsp;getLargestIndex(java.util.ArrayList&lt;java.lang.Double&gt;&nbsp;angles)</pre>
</li>
</ul>
<a name="betweenAngles-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>betweenAngles</h4>
<pre>private static&nbsp;double&nbsp;betweenAngles(double&nbsp;greater,
                                    double&nbsp;lesser)</pre>
<div class="block">Subtracts two angles in a clockwise direction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>greater</code> - The angle counter-clockwise of the other angle</dd>
<dd><code>lesser</code> - The other angle, clockwise from the other one</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="setPose-lejos.robotics.navigation.Pose-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPose</h4>
<pre>public&nbsp;void&nbsp;setPose(<a href="../../../lejos/robotics/navigation/Pose.html" title="class in lejos.robotics.navigation">Pose</a>&nbsp;aPose)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../lejos/robotics/localization/PoseProvider.html#setPose-lejos.robotics.navigation.Pose-">setPose</a></code>&nbsp;in interface&nbsp;<code><a href="../../../lejos/robotics/localization/PoseProvider.html" title="interface in lejos.robotics.localization">PoseProvider</a></code></dd>
</dl>
</li>
</ul>
<a name="moveStarted-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveStarted</h4>
<pre>public&nbsp;void&nbsp;moveStarted(<a href="../../../lejos/robotics/navigation/Move.html" title="class in lejos.robotics.navigation">Move</a>&nbsp;move,
                        <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../lejos/robotics/navigation/MoveListener.html#moveStarted-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">MoveListener</a></code></span></div>
<div class="block">Called when a Move Provider starts a move</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../lejos/robotics/navigation/MoveListener.html#moveStarted-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">moveStarted</a></code>&nbsp;in interface&nbsp;<code><a href="../../../lejos/robotics/navigation/MoveListener.html" title="interface in lejos.robotics.navigation">MoveListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>move</code> - the movement</dd>
<dd><code>mp</code> - the movement provider</dd>
</dl>
</li>
</ul>
<a name="moveStopped-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>moveStopped</h4>
<pre>public&nbsp;void&nbsp;moveStopped(<a href="../../../lejos/robotics/navigation/Move.html" title="class in lejos.robotics.navigation">Move</a>&nbsp;move,
                        <a href="../../../lejos/robotics/navigation/MoveProvider.html" title="interface in lejos.robotics.navigation">MoveProvider</a>&nbsp;mp)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../lejos/robotics/navigation/MoveListener.html#moveStopped-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">MoveListener</a></code></span></div>
<div class="block">Called by the movement provider when a move stops</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../lejos/robotics/navigation/MoveListener.html#moveStopped-lejos.robotics.navigation.Move-lejos.robotics.navigation.MoveProvider-">moveStopped</a></code>&nbsp;in interface&nbsp;<code><a href="../../../lejos/robotics/navigation/MoveListener.html" title="interface in lejos.robotics.navigation">MoveListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>move</code> - the movement</dd>
<dd><code>mp</code> - movement provider</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../lejos/robotics/localization/BeaconLocator.html" title="interface in lejos.robotics.localization"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../lejos/robotics/localization/BeaconTriangle.html" title="class in lejos.robotics.localization"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?lejos/robotics/localization/BeaconPoseProvider.html" target="_top">Frames</a></li>
<li><a href="BeaconPoseProvider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
